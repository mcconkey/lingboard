(this.webpackJsonplingboard=this.webpackJsonplingboard||[]).push([[0],{256:function(e,t,a){e.exports=a(481)},286:function(e,t,a){},287:function(e,t,a){},469:function(e,t){},471:function(e,t){},481:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(13),i=a.n(r),c=a(15),o=(a(286),a(287),a(526)),u=a(529),m=a(101),s=a(527),d=a(29),E=a(528),g=a(515),h=a(516),v=a(5),f=a(530),p=a(512),b=a(513),y=a(209),w=a.n(y),O=a(210),x=a.n(O),j=a(211),N=a.n(j),R=a(212),L=a.n(R),S=a(33),k=l.a.createElement("div",null,l.a.createElement(f.a,{button:!0,component:S.b,to:"/"},l.a.createElement(p.a,null,l.a.createElement(w.a,null)),l.a.createElement(b.a,{primary:"Dashboard"})),l.a.createElement(f.a,{button:!0,component:S.b,to:"/roster"},l.a.createElement(p.a,null,l.a.createElement(x.a,null)),l.a.createElement(b.a,{primary:"Linguist Roster"})),l.a.createElement(f.a,{button:!0,component:S.b,to:"/load"},l.a.createElement(p.a,null,l.a.createElement(N.a,null)),l.a.createElement(b.a,{primary:"Load Ledger"})),l.a.createElement(f.a,{button:!0,component:S.b,to:"/save"},l.a.createElement(p.a,null,l.a.createElement(L.a,null)),l.a.createElement(b.a,{primary:"Save Ledger"}))),F=a(95),M=a(213),T=a(514),H=Object(T.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(M.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(F.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));var I=function(){var e=l.a.useState(!0),t=Object(d.a)(e,2),a=t[0],n=(t[1],H());return l.a.createElement(E.a,{variant:"permanent",classes:{paper:Object(v.a)(n.drawerPaper,!a&&n.drawerPaperClose)},open:a},l.a.createElement("div",{className:n.toolbarIcon}),l.a.createElement(g.a,null),l.a.createElement(h.a,null,k))},A=a(517),B=a(518),P=function(){var e=l.a.useState(!0),t=Object(d.a)(e,2),a=t[0],n=(t[1],H());return l.a.createElement(A.a,{position:"absolute",className:Object(v.a)(n.appBar,a&&n.appBarShift)},l.a.createElement(B.a,{className:n.toolbar},l.a.createElement(m.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:n.title},"Linguist Dashboard")))},W=a(524),D=a(484),C=a(519),z=a(523),_=a(522),Y=a(520),K=a(521);function V(e){return l.a.createElement(m.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}var G=Object(c.atom)({key:"ledger",default:[]}),J=Object(c.selector)({key:"latestLedgerState",get:function(e){var t=(0,e.get)(G);return t.length>5?t.slice(-5):t}}),U=function(e){var t="",a=["timestamp","firstName","lastName"];for(var n in e)a.includes(n)||""!==e[n]&&(t+=" ".concat(n,": ").concat(e[n]));return t},X=function(){var e=Object(c.useRecoilValue)(J);return e.length<1?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(V,null,"Recent Ledger Entries"),l.a.createElement(C.a,{size:"small"},l.a.createElement(Y.a,null,l.a.createElement(K.a,null,l.a.createElement(_.a,null,"Date"),l.a.createElement(_.a,null,"Name"),l.a.createElement(_.a,null,"Changes"))),l.a.createElement(z.a,null,e.length&&e.map((function(e){return l.a.createElement(K.a,{key:e.id},l.a.createElement(_.a,null,e.data.timestamp),l.a.createElement(_.a,null,e.data.firstName+" "+e.data.lastName),l.a.createElement(_.a,null,U(e.data)))})))))},$=a(10),q=Object(c.atom)({key:"rosterState",default:{}}),Q=["#FF3032","#FFBB28","#00C49F","#0088FE"],Z=Math.PI/180,ee=function(e){var t=e.cx,a=e.cy,n=e.midAngle,r=e.innerRadius,i=e.outerRadius,c=e.percent,o=(e.index,r+.5*(i-r)),u=t+o*Math.cos(-n*Z),m=a+o*Math.sin(-n*Z);return 0===c?l.a.createElement(l.a.Fragment,null):l.a.createElement("text",{x:u,y:m,fill:"white",textAnchor:u>t?"start":"end",dominantBaseline:"central"},"".concat((100*c).toFixed(0),"%"))};function te(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[{name:"SubPro",value:0},{name:"2",value:0},{name:"2+",value:0},{name:"3 or Higher",value:0}];if(Object.entries(e).length>0)for(var a in e){var n;if(null===(n=e[a].attributes)||void 0===n?void 0:n.hasOwnProperty("reading")){var l=Number(e[a].attributes.reading.value);l<2?t[0].value++:2===l?t[1].value++:l>2&&l<3?t[2].value++:l>2.5&&t[3].value++}}return t}(Object(c.useRecoilValue)(q));return l.a.createElement(l.a.Fragment,null,l.a.createElement(V,null,"Reading"),l.a.createElement($.h,null,l.a.createElement($.g,null,l.a.createElement($.f,{data:e,dataKey:"value",outerRadius:"100%",fill:"#8884d8",labelLine:!1,label:ee},e.map((function(e,t){return l.a.createElement($.d,{key:"rc-"+t,fill:Q[t%Q.length]})}))),l.a.createElement($.k,null),l.a.createElement($.e,{verticalAlign:"bottom",height:20}))))}var ae=["#FF3032","#FFBB28","#00C49F","#0088FE"],ne=Math.PI/180,le=function(e){var t=e.cx,a=e.cy,n=e.midAngle,r=e.innerRadius,i=e.outerRadius,c=e.percent,o=(e.index,r+.5*(i-r)),u=t+o*Math.cos(-n*ne),m=a+o*Math.sin(-n*ne);return 0===c?l.a.createElement(l.a.Fragment,null):l.a.createElement("text",{x:u,y:m,fill:"white",textAnchor:u>t?"start":"end",dominantBaseline:"central"},"".concat((100*c).toFixed(0),"%"))};function re(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[{name:"SubPro",value:0},{name:"2",value:0},{name:"2+",value:0},{name:"3 or Higher",value:0}];if(Object.entries(e).length>0)for(var a in e){var n;if(null===(n=e[a].attributes)||void 0===n?void 0:n.hasOwnProperty("listening")){var l=Number(e[a].attributes.listening.value);l<2?t[0].value++:2===l?t[1].value++:l>2&&l<3?t[2].value++:l>2.5&&t[3].value++}}return t}(Object(c.useRecoilValue)(q));return l.a.createElement(l.a.Fragment,null,l.a.createElement(V,null,"Listening"),l.a.createElement($.h,null,l.a.createElement($.g,null,l.a.createElement($.f,{data:e,dataKey:"value",outerRadius:"100%",fill:"#8884d8",labelLine:!1,label:le},e.map((function(e,t){return l.a.createElement($.d,{key:"lc-"+t,fill:ae[t%ae.length]})}))),l.a.createElement($.k,null),l.a.createElement($.e,{verticalAlign:"bottom",height:20}))))}var ie,ce=a(35),oe=a.n(ce),ue=function(e){for(var t=e.buckets,a=void 0===t?6:t,n=Object(c.useRecoilValue)(G),r=[],i=0;i<a;i++){var o={hours:0,month:oe()().subtract(i,"months").format("MMM YY")};r.push(o)}if(n.length>0){var u=function(e){var t=n[e].data;if(""!==t.trainingHours&&0!==t.trainingHours){var a=oe()(t.timestamp).format("MMM YY");r=r.map((function(e){return e.month===a&&(e.hours+=parseInt(t.trainingHours)),e}))}};for(var m in n)u(m)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(V,null,"Unit Trainig Hours"),l.a.createElement($.h,null,l.a.createElement($.b,{data:r},l.a.createElement($.c,{strokeDasharray:"3 3"}),l.a.createElement($.l,{reversed:!0,dataKey:"month"}),l.a.createElement($.m,null),l.a.createElement($.k,null),l.a.createElement($.e,null),l.a.createElement($.a,{dataKey:"hours",fill:"#8884db"}))))},me=function(){var e=H(),t=Object(v.a)(e.paper,e.fixedHeight);return l.a.createElement(W.a,{container:!0,spacing:3},l.a.createElement(W.a,{item:!0,xs:12,md:4,lg:6},l.a.createElement(D.a,{className:t},l.a.createElement(ue,null))),l.a.createElement(W.a,{item:!0,xs:12,md:4,lg:3},l.a.createElement(D.a,{className:t},l.a.createElement(te,null))),l.a.createElement(W.a,{item:!0,xs:12,md:4,lg:3},l.a.createElement(D.a,{className:t},l.a.createElement(re,null))),l.a.createElement(W.a,{item:!0,xs:12},l.a.createElement(D.a,{className:e.paper},l.a.createElement(X,null))))},se=a(16),de=a(225),Ee=a(229),ge=a(227),he=a(228),ve=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(ge.a)(this,e),this.name="",this.key="",this.attributes={},this.ledgerRows=[],this.key=t}return Object(he.a)(e,[{key:"setName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.name=e}},{key:"setLedger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.ledgerRows=e}},{key:"appendToLedger",value:function(e){this.ledgerRows.push(e),this.extractAttributesFromRow(e)}},{key:"setAttributes",value:function(e){this.attributes=e}},{key:"setAttribute",value:function(e,t,a){this.attributes[e]={value:t,date:a}}},{key:"extractAttributesFromRow",value:function(e){var t=["timestamp","firstName","lastName"];for(var a in e)if(!t.includes(a)&&e[a]){var n=oe()(e.timestamp.toString()).unix();(void 0==this.attributes[a]||n>this.attributes[a].date)&&(this.attributes[a]={value:e[a].toString(),date:n})}}}]),e}(),fe=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-")},pe=function(e){var t={};return e.map((function(e){if(!e.data.hasOwnProperty("firstName")||!e.data.hasOwnProperty("lastName"))return l.a.createElement(l.a.Fragment,null);var a=e.data.firstName+" "+e.data.lastName,n=fe(a);if(Object.keys(t).includes(n))t[n].appendToLedger(e.data);else{var r=new ve(n);r.setName(a),r.appendToLedger(e.data),t[n]=r}})),t},be=function(){var e=Object(c.useRecoilState)(G),t=Object(d.a)(e,2),a=(t[0],t[1]),r=Object(c.useRecoilState)(q),i=Object(d.a)(r,2),o=i[0],u=i[1],m=Object(n.useState)([]),s=Object(d.a)(m,2),E=s[0],g=s[1];Object(n.useEffect)((function(){E.length>0&&a(E)}),[E,a]);return l.a.createElement("div",null,l.a.createElement("h1",null,"Load Ledger"),l.a.createElement(de.a,{onDrop:function(e){e.forEach((function(e){return e.id=Object(Ee.a)(10)})),g(e),u(pe(e))},onError:function(e,t,a,n){console.log(e)},addRemoveButton:!0,onRemoveFile:function(e){console.log("---------------------------"),console.log(e),console.log("---------------------------")},config:{header:!0}},l.a.createElement("span",null,"Drop CSV file here or click to upload.")),l.a.createElement("h3",null,Object.keys(E).length," ledger rows ingested"),l.a.createElement("h3",null,Object.keys(o).length," linguists on the roster"))},ye=function(e){var t=e.ledgerRows,a=void 0===t?{}:t,n=Object.keys(a).length>0;return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{size:"small"},l.a.createElement(Y.a,null,l.a.createElement(K.a,null,l.a.createElement(_.a,{style:{fontWeight:"bold"}},"Name"),l.a.createElement(_.a,{style:{fontWeight:"bold"}},"Reading"),l.a.createElement(_.a,{style:{fontWeight:"bold"}},"Listening"),l.a.createElement(_.a,{style:{fontWeight:"bold"}},"Hours"),l.a.createElement(_.a,{style:{fontWeight:"bold"}},"Next SLTE"))),l.a.createElement(z.a,null,n&&a.map((function(e){return l.a.createElement(K.a,{key:e.timestamp},l.a.createElement(_.a,null,e.timestamp),l.a.createElement(_.a,null,e.listening),l.a.createElement(_.a,null,e.reading),l.a.createElement(_.a,null,e.trainingHours),l.a.createElement(_.a,null,e.nextSLTE))})))))},we=a(525),Oe=a(485);!function(e){e[e.ALL_TIME=0]="ALL_TIME",e[e.THIS_MONTH=1]="THIS_MONTH"}(ie||(ie={}));var xe=function(e){var t=e.ledgerRows,a=void 0===t?{}:t,r=Object(n.useState)(0),i=Object(d.a)(r,2),c=i[0],o=i[1],u=Object(n.useState)(ie.ALL_TIME),m=Object(d.a)(u,2),s=m[0],E=m[1],g=Object.keys(a).length>0,h=function(e){E(e)};return Object(n.useEffect)((function(){g||o(0);var e=(new Date).getMonth(),t=0;for(var n in a){var l=new Date(a[n].timestamp).getMonth();s!==ie.ALL_TIME&&e!==l||a[n].hasOwnProperty("trainingHours")&&(t+=Number(a[n].trainingHours))}o(t)}),[a,s,o,g]),l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{style:{fontSize:"3rem",marginTop:"0px"}},c),l.a.createElement(we.a,{fullWidth:!0,size:"small",variant:"contained","aria-label":"contained primary button group"},l.a.createElement(Oe.a,{style:{fontSize:".7rem"},color:s===ie.THIS_MONTH?"primary":"default",onClick:function(){return h(ie.THIS_MONTH)}},"This Month"),l.a.createElement(Oe.a,{style:{fontSize:".7rem"},color:s===ie.ALL_TIME?"primary":"default",onClick:function(){return h(ie.ALL_TIME)}},"All Time")))},je=function(e){var t=e.ledgerRows,a=void 0===t?{}:t,n=[],r=[];for(var i in a){if(a[i].hasOwnProperty("reading")&&""!==a[i].reading){var c=oe()(a[i].timestamp).unix();r.push({score:a[i].reading,date:c})}if(a[i].hasOwnProperty("listening")&&""!==a[i].listening){var o=oe()(a[i].timestamp).unix();n.push({score:a[i].listening,date:o})}}return l.a.createElement(l.a.Fragment,null,l.a.createElement($.h,null,l.a.createElement($.j,null,l.a.createElement($.c,null),l.a.createElement($.l,{type:"number",dataKey:"date",name:"Date",domain:["auto","auto"],tickFormatter:function(e){return oe.a.unix(e).format("MMM YY")}}),l.a.createElement($.m,{type:"number",dataKey:"score",name:"Score",domain:[0,5],ticks:[.5,1,1.5,2,2.5,3,3.5,4,4.5]}),l.a.createElement($.e,null),l.a.createElement($.k,{formatter:function(e,t){return"Date"===t?oe.a.unix(Number(e)).format("MMM YY"):e}}),l.a.createElement($.i,{name:"Reading",data:r,fill:"#FF2211",line:!0,shape:"circle"}),l.a.createElement($.i,{name:"Listening",data:n,fill:"#1122FF",line:!0,shape:"circle"}))))},Ne=function(){var e=H(),t=Object(se.f)().linguistKey,a=Object(c.useRecoilValue)(q),n=!1,r={},i=Object(v.a)(e.paper,e.fixedHeight);return a.hasOwnProperty(t)?r=a[t]:n=!0,l.a.createElement(l.a.Fragment,null,n&&l.a.createElement("h1",null,"Linguist not found"),!n&&l.a.createElement("h1",null,r.name),l.a.createElement(W.a,{container:!0,spacing:3},l.a.createElement(W.a,{item:!0,xs:12,md:4,lg:6},l.a.createElement(D.a,{className:i},l.a.createElement(je,{ledgerRows:r.ledgerRows}))),l.a.createElement(W.a,{item:!0,xs:12,md:4,lg:3},l.a.createElement(D.a,{className:i},l.a.createElement("h3",null,"Current Scores"),l.a.createElement("h2",{style:{fontSize:"2rem"}},!n&&r.attributes.reading.value?"R"+r.attributes.reading.value:"-",", ",!n&&r.attributes.listening.value?"L"+r.attributes.listening.value:"-"))),l.a.createElement(W.a,{item:!0,xs:12,md:4,lg:3},l.a.createElement(D.a,{className:i},l.a.createElement("h3",null,"Lanugage Hours"),l.a.createElement(xe,{ledgerRows:r.ledgerRows}))),l.a.createElement(W.a,{item:!0,xs:12,md:12,lg:12},l.a.createElement(D.a,null,l.a.createElement(ye,{ledgerRows:r.ledgerRows})))))},Re=function(){var e=H(),t=Object(c.useRecoilValue)(q),a=0!==Object.entries(t).length;return a&&console.log(t),l.a.createElement("div",null,l.a.createElement("h1",null,"Roster"),l.a.createElement(C.a,{size:"small",className:e.table},l.a.createElement(Y.a,null,l.a.createElement(K.a,null,l.a.createElement(_.a,{style:{fontWeight:"bold"}},"Name"),l.a.createElement(_.a,{style:{fontWeight:"bold"}},"Reading"),l.a.createElement(_.a,{style:{fontWeight:"bold"}},"Listening"),l.a.createElement(_.a,{style:{fontWeight:"bold"}},"Hours"),l.a.createElement(_.a,{style:{fontWeight:"bold"}},"Next SLTE"))),l.a.createElement(z.a,null,a&&Object.keys(t).map((function(e){var a,n,r,i,c,o,u,m;return l.a.createElement(K.a,{key:e},l.a.createElement(_.a,null,l.a.createElement(S.b,{to:"linguist/".concat(fe(e))},t[e].name)),l.a.createElement(_.a,null,(null===(a=t[e].attributes)||void 0===a||null===(n=a.reading)||void 0===n?void 0:n.value)?t[e].attributes.reading.value:"-"),l.a.createElement(_.a,null,(null===(r=t[e].attributes)||void 0===r||null===(i=r.listening)||void 0===i?void 0:i.value)?t[e].attributes.listening.value:"-"),l.a.createElement(_.a,null,(null===(c=t[e].attributes)||void 0===c||null===(o=c.trainingHours)||void 0===o?void 0:o.value)?t[e].attributes.trainingHours.value:"-"),l.a.createElement(_.a,null,(null===(u=t[e].attributes)||void 0===u||null===(m=u.nextSLTE)||void 0===m?void 0:m.value)?t[e].attributes.nextSLTE.value:"-"))})))))};function Le(){return l.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","Linguist Dashboard -",(new Date).getFullYear(),".")}function Se(){var e=H();return l.a.createElement(S.a,null,l.a.createElement("div",{className:e.root},l.a.createElement(o.a,null),l.a.createElement(P,null),l.a.createElement(I,null),l.a.createElement("main",{className:e.content},l.a.createElement("div",{className:e.appBarSpacer}),l.a.createElement(s.a,{maxWidth:"lg",className:e.container},l.a.createElement(se.c,null,l.a.createElement(se.a,{path:"/load"},l.a.createElement(be,null)),l.a.createElement(se.a,{path:"/roster"},l.a.createElement(Re,null)),l.a.createElement(se.a,{path:"/linguist/:linguistKey"},l.a.createElement(Ne,null)),l.a.createElement(se.a,{path:"/"},l.a.createElement(me,null))),l.a.createElement(u.a,{pt:4},l.a.createElement(Le,null))))))}var ke=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(Se,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Fe=document.getElementById("root");i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(c.RecoilRoot,null,l.a.createElement(ke,null))),Fe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[256,1,2]]]);
//# sourceMappingURL=main.fbcec444.chunk.js.map